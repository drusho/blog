{
  
    
        "post0": {
            "title": "Florida School's Covid-19 Cases in 2021",
            "content": ". . Notebook Created by David Rusho . Github Repository for this Notebook . Tableau Dashboard - FL School&#39;s Covid-19 Cases . . Other Social Media Links: . Twitter | Github | Linkedin | Tableau . . Introduction . About the Data . . The Data comes from Florida Department of Health. They release several reports throughout the years that list the number of postive covid-19 cases by school. The school types include Elementary, Middle, High School, Charter/Prepatory Schools, and University/Colleges. The data is presented on a pdf, is in wide format, and data is not labeled by school type. . Also, the version of Tableau that is being used is Tableau Public. This means that the data that is export will need to be in excel format. . Data Cleaning . Import Data . import pandas as pd . . #import pdf and filter cols/rows df = pd.read_csv(&#39;schools_latest.csv&#39;,usecols=[0,1,12,13,14,15,16,17,18,19],skiprows=5) df.sample(2) . . School County Unnamed: 12 Students.1 Teachers.1 Staff.1 Unknown.2 Yes.1 No.1 Unknown.3 . 4230 NaN | NaN | NaN | NaN | Cumulative (Sep 6 - May 22) | NaN | NaN | NaN | NaN | NaN | . 6209 THE WEBSTER SCHOOL | St. Johns | 25 | 14 | 2 | 5 | 4 | 17 | 8 | 0 | . Rename Columns . #rename columns df.columns=[&#39;School&#39;,&#39;County&#39;,&#39;Total_Cases&#39;,&#39;Students&#39;,&#39;Teachers&#39;,&#39;Staff&#39;,&#39;Unknown&#39;,&#39;Symptoms_Yes&#39;,&#39;Symptoms_No&#39;,&#39;Symptoms_Unknown&#39;] df.sample(2) . . School County Total_Cases Students Teachers Staff Unknown Symptoms_Yes Symptoms_No Symptoms_Unknown . 2900 BOYETTE SPRINGS ELEMENTARY SCHOOL | Hillsborough | 24 | 15 | 3 | 4 | 2 | 15 | 3 | 6 | . 3641 SIX MILE CHARTER ACADEMY | Lee | 17 | 15 | 1 | 0 | 1 | 7 | 7 | 3 | . Remove nan values from &#39;School&#39; col . Remove nan values from &#39;County&#39; col . # new df with nan values removed df2 = df1[df1[&#39;County&#39;].isna()==False] df2.sample(3) . School County Total_Cases Students Teachers Staff Unknown Symptoms_Yes Symptoms_No Symptoms_Unknown . 995 COCONUT GROVE MONTESSORI SCHOOL | Dade | 4 | 2 | 0 | 0 | 2 | 1 | 2 | 1 | . 3805 MIAMI NORLAND SENIOR HIGH SCHOOL | Dade | 27 | 16 | 2 | 2 | 7 | 19 | 8 | 0 | . 2619 HENRY S. WEST LABORATORY SCHOOL | Dade | 6 | 5 | 0 | 0 | 1 | 3 | 2 | 1 | . . df2.isna().sum() . . School 0 County 0 Total_Cases 135 Students 0 Teachers 0 Staff 0 Unknown 0 Symptoms_Yes 0 Symptoms_No 0 Symptoms_Unknown 0 dtype: int64 . Remove nan values from &#39;Total Cases&#39; col . df3 = df2[df2.Total_Cases.isna()==False] df3.sample(3) . School County Total_Cases Students Teachers Staff Unknown Symptoms_Yes Symptoms_No Symptoms_Unknown . 4686 PORT CHARLOTTE MIDDLE SCHOOL | Charlotte | 34 | 28 | 2 | 0 | 4 | 25 | 9 | 0 | . 5681 SURGE CHRISTIAN ACADEMY | Pinellas | 4 | 4 | 0 | 0 | 0 | 3 | 1 | 0 | . 6204 VALRICO LAKE ADVANTAGE ACADEMY | Hillsborough | 15 | 10 | 3 | 0 | 2 | 7 | 0 | 8 | . Dataframe contains no nan values. . #df is balanced with nan values removed df3.info() . . &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt; Int64Index: 6064 entries, 0 to 6603 Data columns (total 10 columns): # Column Non-Null Count Dtype -- -- 0 School 6064 non-null object 1 County 6064 non-null object 2 Total_Cases 6064 non-null object 3 Students 6064 non-null object 4 Teachers 6064 non-null object 5 Staff 6064 non-null object 6 Unknown 6064 non-null object 7 Symptoms_Yes 6064 non-null object 8 Symptoms_No 6064 non-null object 9 Symptoms_Unknown 6064 non-null object dtypes: object(10) memory usage: 521.1+ KB . Drop unnecessary cols . # No way to identify which goups symptoms belong to df4 = df3.drop(columns=[&#39;Symptoms_Yes&#39;,&#39;Symptoms_No&#39;,&#39;Symptoms_Unknown&#39;]).reset_index(drop=True) df4.head(3) . School County Total_Cases Students Teachers Staff Unknown . 0 IRVING &amp; BEATRICE PESKOE K-8 CENTER | Dade | 1 | 0 | 0 | 0 | 1 | . 1 2010 E HILLSBOROUGH AVE, | Hillsborough | 1 | 1 | 0 | 0 | 0 | . 2 A BLESSED ACADEMY | Polk | 1 | 1 | 0 | 0 | 0 | . Concat &#39;School&#39; and &#39;County&#39; cols . Several schools have the same name. Combining School and County columns creates a unique identifier that can later be split in Tableau to contain more useful data visualizations. . df4[&#39;School_County&#39;] = (df4.School.str.cat(df4.County, sep=&quot; (&quot;) + &quot; County)&quot;).str.title() df4.head() . School County Total_Cases Students Teachers Staff Unknown School_County . 0 IRVING &amp; BEATRICE PESKOE K-8 CENTER | Dade | 1 | 0 | 0 | 0 | 1 | Irving &amp; Beatrice Peskoe K-8 Center (Dade Cou... | . 1 2010 E HILLSBOROUGH AVE, | Hillsborough | 1 | 1 | 0 | 0 | 0 | 2010 E Hillsborough Ave, (Hillsborough County) | . 2 A BLESSED ACADEMY | Polk | 1 | 1 | 0 | 0 | 0 | A Blessed Academy (Polk County) | . 3 A CHILD&#39;S PLACE MONTESSORI SCHOOL | Duval | 2 | 2 | 0 | 0 | 0 | A Child&#39;S Place Montessori School (Duval County) | . 4 A E F SCHOOLS ALTERNATIVE EDU. FOUNDATION | Broward | 3 | 0 | 1 | 2 | 0 | A E F Schools Alternative Edu. Foundation (Bro... | . Convert df from wide to long using melt() . df_long = df4.melt(id_vars=[&#39;School&#39;,&#39;County&#39;,&#39;School_County&#39;,&#39;Total_Cases&#39;], var_name=&#39;Individual&#39;, value_name=&#39;pos_covid&#39;) df_long.sample(3) . School County School_County Total_Cases Individual pos_covid . 6492 BENNETT ELEMENTARY SCHOOL | Broward | Bennett Elementary School (Broward County) | 22 | Teachers | 5 | . 9414 MENI NINHO MENI NINHA INC | Dade | Meni Ninho Meni Ninha Inc (Dade County) | 1 | Teachers | 0 | . 2962 LEE ADOLESCENT MOTHERS PROGRAM | Lee | Lee Adolescent Mothers Program (Lee County) | 3 | Students | 3 | . Drop &#39;Total Cases&#39; col . # Drop &#39;_Total Cases_&#39; col df_long2 = df_long.drop(columns=&#39;Total_Cases&#39;) df_long2.head(2) . . School County School_County Individual pos_covid . 0 IRVING &amp; BEATRICE PESKOE K-8 CENTER | Dade | Irving &amp; Beatrice Peskoe K-8 Center (Dade Cou... | Students | 0 | . 1 2010 E HILLSBOROUGH AVE, | Hillsborough | 2010 E Hillsborough Ave, (Hillsborough County) | Students | 1 | . Clean &#39;School&#39; names. . Convert to title() case . #Title Case for Schools df_long2.School = df_long2.School.str.title() df_long2.head(2) . School County School_County Individual pos_covid . 0 Irving &amp; Beatrice Peskoe K-8 Center | Dade | Irving &amp; Beatrice Peskoe K-8 Center (Dade Cou... | Students | 0 | . 1 2010 E Hillsborough Ave, | Hillsborough | 2010 E Hillsborough Ave, (Hillsborough County) | Students | 1 | . . Label University/Colleges . #Label University/Colleges df_long2.loc[((df_long2.School.str.contains(&#39;University&#39;)==True) | (df_long2.School.str.contains(&#39;College&#39;)==True)) &amp; (df_long2.School.str.contains(&#39;Middle&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Elementary&#39;)==False) &amp; (df_long2.School.str.contains(&#39;High&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Academy&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Charter&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Prep&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Preparatory&#39;)==False) &amp; (df_long2.School.str.contains(&#39;1st College&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Kids&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Little College&#39;)==False), &#39;School_Type&#39;] = &#39;University/College&#39; df_long2[df_long2[&#39;School&#39;].str.contains(&#39;Uni&#39;)].sample(3) . . School County School_County Individual pos_covid School_Type . 1718 First United Methodist School | Okaloosa | First United Methodist School (Okaloosa County) | Students | 0 | NaN | . 5646 University Of South Florida- St. Petersburg | Pinellas | University Of South Florida- St. Petersburg (P... | Students | 14 | University/College | . 9222 Lynn University | Palm Beach | Lynn University (Palm Beach County) | Teachers | 0 | University/College | . Label High Schools . #Label High Schools df_long2.loc[((df_long2.School.str.contains(&#39;High&#39;)==True) | (df_long2.School.str.contains(&#39;Hs&#39;)==True)) &amp; (df_long2.School.str.contains(&#39;Middle&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Elementary&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Adult&#39;)==False),&#39;School_Type&#39;] = &#39;High School&#39; df_long2[df_long2[&#39;School&#39;].str.contains(&#39;High&#39;)].sample(3) . . School County School_County Individual pos_covid School_Type . 21009 Lake Highland Preparatory School | Orange | Lake Highland Preparatory School (Orange County) | Unknown | 2 | High School | . 15033 Land O&#39; Lakes High Adult Education | Pasco | Land O&#39; Lakes High Adult Education (Pasco County) | Staff | 0 | NaN | . 18987 Central High School | Hernando | Central High School (Hernando County) | Unknown | 1 | High School | . Label Middle Schools . #Identify Middle Schools df_long2.loc[(df_long2.School.str.contains(&#39;High&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Middle&#39;)==True) &amp; (df_long2.School.str.contains(&#39;Elementary&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Adult&#39;)==False),&#39;School_Type&#39;] = &#39;Middle School&#39; df_long2[df_long2[&#39;School&#39;].str.contains(&#39;Middle&#39;)].sample(3) . . School County School_County Individual pos_covid School_Type . 1526 Eisenhower Middle School | Hillsborough | Eisenhower Middle School (Hillsborough County) | Students | 21 | Middle School | . 16696 Ruben Dario Middle School | Dade | Ruben Dario Middle School (Dade County) | Staff | 0 | Middle School | . 16010 Osceola Middle School | Marion | Osceola Middle School (Marion County) | Staff | 6 | Middle School | . Label Elementary . #identify Elementary Schools #some elementary schools have &#39;University&#39; or &#39;College&#39; in their names df_long2.loc[(df_long2.School.str.contains(&#39;High&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Middle&#39;)==False) &amp; (df_long2.School.str.contains(&#39;Elementary&#39;)==True) &amp; (df_long2.School.str.contains(&#39;Adult&#39;)==False),&#39;School_Type&#39;] = &quot;Elementary School&quot; df_long2[df_long2[&#39;School&#39;].str.contains(&#39;Elem&#39;)].sample(3) . . School County School_County Individual pos_covid School_Type . 1591 Estates Elementary School | Collier | Estates Elementary School (Collier County) | Students | 25 | Elementary School | . 3460 Molino Park Elementary | Escambia | Molino Park Elementary (Escambia County) | Students | 4 | Elementary School | . 20557 Howard Drive Elementary School | Dade | Howard Drive Elementary School (Dade County) | Unknown | 2 | Elementary School | . Label unknown schools a &#39;Other&#39; . df_long2.loc[df_long2.School_Type.isna(),&#39;School_Type&#39;] = &#39;No Label&#39; df_long2[df_long2[&#39;School&#39;].str.contains(&#39;Hs&#39;)] . . School County School_County Individual pos_covid School_Type . 565 Brandon Hs | Hillsborough | Brandon Hs (Hillsborough County) | Students | 1 | High School | . 2629 Jp Taravella Hs | Broward | Jp Taravella Hs (Broward County) | Students | 0 | High School | . 6629 Brandon Hs | Hillsborough | Brandon Hs (Hillsborough County) | Teachers | 0 | High School | . 8693 Jp Taravella Hs | Broward | Jp Taravella Hs (Broward County) | Teachers | 0 | High School | . 12693 Brandon Hs | Hillsborough | Brandon Hs (Hillsborough County) | Staff | 0 | High School | . 14757 Jp Taravella Hs | Broward | Jp Taravella Hs (Broward County) | Staff | 0 | High School | . 18757 Brandon Hs | Hillsborough | Brandon Hs (Hillsborough County) | Unknown | 0 | High School | . 20821 Jp Taravella Hs | Broward | Jp Taravella Hs (Broward County) | Unknown | 1 | High School | . Change dtype of pos_covid to &#39;int&#39; . #Change dtype of pos_covid to &#39;int&#39; df_long2.pos_covid = df_long2.pos_covid.str.replace(&#39;,&#39;,&#39;&#39;).astype(&#39;int&#39;) df_long2.info() . &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt; RangeIndex: 24256 entries, 0 to 24255 Data columns (total 6 columns): # Column Non-Null Count Dtype -- -- 0 School 24256 non-null object 1 County 24256 non-null object 2 School_County 24256 non-null object 3 Individual 24256 non-null object 4 pos_covid 24256 non-null int64 5 School_Type 24256 non-null object dtypes: int64(1), object(5) memory usage: 1.1+ MB . . Data Analysis . Groupby school type . #grouby school type df_long2.groupby(&#39;School_Type&#39;).count() . . School County School_County Individual pos_covid . School_Type . Elementary School 6748 | 6748 | 6748 | 6748 | 6748 | . High School 2536 | 2536 | 2536 | 2536 | 2536 | . Middle School 2236 | 2236 | 2236 | 2236 | 2236 | . No Label 11564 | 11564 | 11564 | 11564 | 11564 | . University/College 1172 | 1172 | 1172 | 1172 | 1172 | . Groupby School Type and Individuals . df_long2.groupby([&#39;School_Type&#39;,&#39;Individual&#39;])[&#39;pos_covid&#39;].sum().to_frame().reset_index(). . . School_Type Individual pos_covid . 0 Elementary School | Staff | 1978 | . 1 Elementary School | Students | 23831 | . 2 Elementary School | Teachers | 3300 | . 3 Elementary School | Unknown | 3763 | . 4 High School | Staff | 1161 | . 5 High School | Students | 29353 | . 6 High School | Teachers | 1491 | . 7 High School | Unknown | 1962 | . 8 Middle School | Staff | 720 | . 9 Middle School | Students | 13081 | . 10 Middle School | Teachers | 1057 | . 11 Middle School | Unknown | 1248 | . 12 No Label | Staff | 1680 | . 13 No Label | Students | 25826 | . 14 No Label | Teachers | 2515 | . 15 No Label | Unknown | 3307 | . 16 University/College | Staff | 1308 | . 17 University/College | Students | 19201 | . 18 University/College | Teachers | 286 | . 19 University/College | Unknown | 1313 | . Groupby County and Positive Covid Cases . # groupby county and postive covid cases df_long2.groupby(&#39;County&#39;)[&#39;pos_covid&#39;].sum().to_frame().reset_index().sort_values(by=&#39;pos_covid&#39;,ascending=False).head(15) . . County pos_covid . 12 Dade | 16672 | . 5 Broward | 10523 | . 28 Hillsborough | 10268 | . 49 Palm Beach | 8801 | . 47 Orange | 8610 | . 36 Leon | 6139 | . 35 Lee | 5588 | . 52 Polk | 5524 | . 15 Duval | 4996 | . 51 Pinellas | 4712 | . 50 Pasco | 4541 | . 0 Alachua | 4504 | . 63 Volusia | 3450 | . 4 Brevard | 3137 | . 56 Seminole | 2675 | . Groupby Select County and Individuals . County Selected = &#39;Orange&#39; county . #collapse # groupby one county and individuals var = &#39;Orange&#39; sel_county = df_long2[df_long2[&#39;County&#39;]==var] sel_county.groupby([&#39;County&#39;,&#39;Individual&#39;])[&#39;pos_covid&#39;].sum().to_frame().reset_index() . . County Individual pos_covid . 0 Orange | Staff | 239 | . 1 Orange | Students | 6976 | . 2 Orange | Teachers | 229 | . 3 Orange | Unknown | 1166 | . Export Data to Excel Format . df_long2 = df_long2.sort_values(by=[&#39;County&#39;,&#39;School&#39;]).reset_index(drop=True) df_long2.to_excel(&#39;Florida_Schools_COVID19_Cases_2020_2021.xls&#39;) .",
            "url": "https://drusho.github.io/pandas/2021/07/15/_07_09_FL_Schools_Covid19_2021.html",
            "relUrl": "/pandas/2021/07/15/_07_09_FL_Schools_Covid19_2021.html",
            "date": " • Jul 15, 2021"
        }
        
    
  
    
        ,"post1": {
            "title": "Data Analysis of Reddit's /r/Politics",
            "content": ". . Notebook Created by David Rusho . Github Repository for this Notebook . | Other Social Media Links: . Twitter | Github | Linkedin | Tableau . | . . Introduction . About the Data . What is Reddit? . . Reddit is an American social news aggregation, web content rating, and discussion website. Registered members submit content to the site such as links, text posts, images, and videos, which are then voted up or down by other members. . . Subreddits . . Posts are organized by subject into user-created boards called &quot;communities&quot; or &quot;subreddits&quot;, which cover a variety of topics such as news, politics, religion, science, movies, video games, music, books, sports, fitness, cooking, pets, and image-sharing. . . Upvotes/Downvotes . . Submissions with more up-votes appear towards the top of their subreddit and, if they receive enough up-votes, ultimately on the site&#39;s front page . . Subreddit Tabs . . At the top of each page on Reddit, you will see a selection of tabs marked Hot, New, Rising, Controversial, Top, Gilded, and Wiki. . Hot posts are the posts that have been getting the most upvotes and comments recently on that subreddit. This is the tab that will be used for this notebook. . Project Goals . This notebook will focus on &#39;Hot&#39; subreddit tab posts due to their focus on upvotes and recent comments. Data from /r/politics will be scrapped using python library Praw. Analysis will include determining top posts for this subreddit and understanding what factors contributed to their ranking beyond most upvotes and comments. Such as the correlation between comments and points, word frequency and semantic analysis of post titles . Summary of Results . Correlation of Post Score and Number of Comments . . A heatmap that was ran through Seaborn showed there was a very positive correlation between the number of comments and the score of a posts (0.89). . . Word Frequency of Post Titles . . Word frequency showed that Biden and Trump were the most popular key words, followed by GOP. . . Sentiment Analysis . The majority of posts in /r/politics were found be neutral, followed by negative. . Data Collection and Cleaning . Import Libraries . !pip install praw !pip install vaderSentiment !pip install texthero . . from configparser import ConfigParser import datetime as dt import matplotlib.pyplot as plt import numpy as np import pandas as pd import plotly.express as px import plotly.graph_objects as go import praw import seaborn as sns import texthero as herofrom from texthero import preprocessing from texthero import stopwords from vaderSentiment.vaderSentiment import SentimentIntensityAnalyzer import warnings warnings.filterwarnings(&#39;ignore&#39;) . . Praw (Reddit API) Setup . # praw setup reddit = praw.Reddit(client_id = cid, #peronal use script client_secret = csec, #secret token usernme = username, #profile username password = password, #profile password user_agent = ua, #user agent check_for_async=False) . . Organize and Clean Data . Scrap 500 Reddit Posts from /r/poltics from &#39;Hot&#39; tab. . # list for df conversion posts = [] # select a subreddit to scrape sub = &#39;politics&#39; # return 500 new posts new_bets = reddit.subreddit(sub).hot(limit=500) # return selected reddit post attributes for post in new_bets: posts.append([post.title, post.selftext, post.score, post.upvote_ratio, post.num_comments, post.created_utc, post.is_original_content, post.url]) # create df, rename columns, and make dtype for all data a str posts = pd.DataFrame(posts, columns=[&#39;title&#39;, &#39;post&#39;, &#39;score&#39;, &#39;upvote_ratio&#39;, &#39;comments&#39;, &#39;created&#39;, &#39;original_content&#39;, &#39;url&#39;], dtype=&#39;str&#39;) posts.sample(3) . . title post score upvote_ratio comments created original_content url . 428 A judge blocked Florida Gov. Ron DeSantis&#39; &#39;de... | | 1563 | 0.98 | 107 | 1625166787.0 | False | https://www.businessinsider.com/florida-ron-de... | . 483 Garland orders halt to any further federal exe... | | 147 | 0.92 | 1 | 1625182268.0 | False | https://abcnews.go.com/Politics/garland-orders... | . 218 Biden administration formally launches effort ... | | 3784 | 0.98 | 245 | 1625270143.0 | False | https://www.inquirer.com/news/nation-world/bid... | . Column Descriptions . Heading Description . title | The title of the submission. | . post | The submissions’ selftext - an empty string if a link post. | . score | The number of upvotes for the submission. | . upvote_ratio | The percentage of upvotes from all votes on the submission. | . comments | The number of comments on the submission. | . created | Time the submission was created, represented in Unix Time. | . original_content | Whether or not the submission has been set as original content. | . url | The URL the submission links to, or the permalink if a selfpost. | . Change &#39;created&#39; Column Dtype to datetime . # created timestamp column to represent correct created column data posts[&#39;created&#39;] = pd.to_datetime(posts[&#39;created&#39;], unit=&#39;s&#39;) posts[&#39;created&#39;].head(1) . 0 2021-07-05 16:00:02 Name: created, dtype: datetime64[ns] . . Show Dataframe Dtypes . # change dytpe of score and comments cols to int posts[[&#39;comments&#39;,&#39;score&#39;]] = posts[[&#39;comments&#39;,&#39;score&#39;]].astype(&#39;int&#39;) posts[&#39;upvote_ratio&#39;] = posts[&#39;upvote_ratio&#39;].astype(&#39;float&#39;) . . posts.info() . . &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt; RangeIndex: 500 entries, 0 to 499 Data columns (total 8 columns): # Column Non-Null Count Dtype -- -- 0 title 500 non-null object 1 post 500 non-null object 2 score 500 non-null int64 3 upvote_ratio 500 non-null float64 4 comments 500 non-null int64 5 created 500 non-null datetime64[ns] 6 original_content 500 non-null object 7 url 500 non-null object dtypes: datetime64[ns](1), float64(1), int64(2), object(4) memory usage: 31.4+ KB . Clean Post Titles (NLP Preprossing) . #Clean post titles using texthero posts[&#39;clean_title&#39;] = herofrom.clean(posts[&#39;title&#39;]) posts[&#39;clean_title&#39;].sample(3) . . 497 nancy pelosi signals hard line formation janua... 430 foreign media skewer joe biden &#39;barely cogent ... 281 biden administration freezes u assets myanmar ... Name: clean_title, dtype: object . Data Exploration . Top 10 Popular Posts by Score . # Top 10 Popular posts based on score top_posts = posts.groupby([&#39;title&#39;])[&#39;score&#39;,&#39;upvote_ratio&#39;].sum().sort_values(by=&#39;score&#39;,ascending=False).reset_index() top_posts[[&#39;score&#39;,&#39;upvote_ratio&#39;,&#39;title&#39;]].head(3) . . score upvote_ratio title . 0 59394 | 0.82 | Charles Booker makes it official, announces ru... | . 1 56462 | 0.89 | Dominion has subpoenaed Rudy Giuliani, Sidney ... | . 2 51924 | 1.83 | Biden says teachers deserve ‘a raise, not just... | . Word Frequency of Post Titles (Wordcloud) . # Word cloud of top words from clean_title herofrom.wordcloud(posts.clean_title, max_words=200, contour_color=&#39;&#39;, background_color=&#39;white&#39;, colormap=cmaps, height = 500, width=800) . . Top 25 Words From Post Titles (Bar Plot) . # create new dateframe of top words tw = herofrom.visualization.top_words(posts[&#39;clean_title&#39;]).head(20).to_frame() tw.reset_index(inplace=True) tw.rename(columns={&#39;index&#39;:&#39;word&#39;,&#39;clean_title&#39;:&#39;freq&#39;},inplace=True) #remove word less than 2 chars tw2 = tw[tw[&#39;word&#39;].str.len() &gt;=2] tw2 = tw2.sort_values(by=&#39;freq&#39;,ascending=False) tw2.head(3) . . word freq . 0 biden | 85 | . 1 trump | 67 | . 2 gop | 43 | . Word Frequency of Post Titles (Bar Plot) . # Top 25 Words From Post Titles fig = go.Figure([go.Bar(x=tw2.word, y=tw2.freq, textposition=&#39;auto&#39;)]) fig.update_layout(wtbckgnd, #set background to white title={&#39;text&#39;: f&#39;Top 25 Words in /r/politics Post Titles ({today})&#39;, &#39;y&#39;:0.88,&#39;x&#39;:0.5,&#39;xanchor&#39;: &#39;center&#39;,&#39;yanchor&#39;: &#39;top&#39;}, yaxis=dict(title=&#39;Word Count&#39;)) fig.update_traces(marker_color=mcolors) #set market colors to light blue fig.show() . . . . Post Scores vs Comments (Scatter Plot) . # Post Scores vs Comments fig = go.Figure(data=go.Scatter(x=posts.comments, y=posts.score, mode=&#39;markers&#39;, text=posts.title)) # hover text goes here fig.update_layout(wtbckgnd, #set background to white title={&#39;text&#39;: f&quot;/r/politics Posts&#39; Scores vs Comments ({today})&quot;, &#39;y&#39;:0.88,&#39;x&#39;:0.5,&#39;xanchor&#39;: &#39;center&#39;,&#39;yanchor&#39;: &#39;top&#39;}, xaxis_title=&quot;Post Score&quot;, yaxis_title=&quot;No. of Comments&quot;,) fig.update_traces(marker_color=mcolors) #set market colors to light blue fig.show() . . . . Post Scores by Post Counts (Histrogram Plot) . fig = px.histogram(posts, x=&quot;score&quot;) fig.update_layout(wtbckgnd, #set background to white title={&#39;text&#39;: f&#39;Post Scores by Post Counts&#39;, &#39;y&#39;:0.88,&#39;x&#39;:0.5,&#39;xanchor&#39;: &#39;center&#39;,&#39;yanchor&#39;: &#39;top&#39;}, yaxis=dict(title=&#39;Post Count&#39;), xaxis=dict(title=&#39;Post Score&#39;)) fig.update_traces(marker_color=mcolors) #set market colors to light blue fig.show() . . . . Sentiment Analysis of Post Titles . Scale for determining sentiment . positive: compound score&gt;=0.05 neutral: compound score between -0.05 and 0.05 negative: compound score&lt;=-0.05 . #Sentiment Analysis of Post Titles analyzer = SentimentIntensityAnalyzer() posts[&#39;neg&#39;] = posts[&#39;title&#39;].apply(lambda x:analyzer.polarity_scores(x)[&#39;neg&#39;]) posts[&#39;neu&#39;] = posts[&#39;title&#39;].apply(lambda x:analyzer.polarity_scores(x)[&#39;neu&#39;]) posts[&#39;pos&#39;] = posts[&#39;title&#39;].apply(lambda x:analyzer.polarity_scores(x)[&#39;pos&#39;]) posts[&#39;compound&#39;] = posts[&#39;title&#39;].apply(lambda x:analyzer.polarity_scores(x)[&#39;compound&#39;]) posts[[&#39;title&#39;,&#39;neg&#39;,&#39;neu&#39;,&#39;pos&#39;,&#39;compound&#39;]].sample(3) . . title neg neu pos compound . 392 Biden struggles to answer Russia question at p... | 0.200 | 0.800 | 0.000 | -0.3612 | . 354 Child tax credit checks will start arriving th... | 0.000 | 0.794 | 0.206 | 0.3818 | . 271 Trump under fire for provocative email to supp... | 0.147 | 0.675 | 0.178 | 0.1280 | . Create Sentiment Column Using Compound Numbers . # sentiment col def sentiment(compscore): if compscore &gt;= 0.05: return &#39;positive&#39; elif -0.05 &lt; compscore &lt; 0.05: return &#39;neutral&#39; elif compscore &lt;=-0.05: return &#39;negative&#39; posts[&#39;sentiment&#39;] = posts.compound.apply(sentiment) posts[[&#39;title&#39;,&#39;neg&#39;,&#39;neu&#39;,&#39;pos&#39;,&#39;compound&#39;,&#39;sentiment&#39;]].sample(3) . . title neg neu pos compound sentiment . 126 Op-Ed: What does it mean to be American? Ask a... | 0.000 | 1.000 | 0.000 | 0.0000 | neutral | . 11 Want Better Policing? Make It Easier To Fire B... | 0.330 | 0.279 | 0.391 | 0.0258 | neutral | . 176 They kept the wheels on democracy as Trump tri... | 0.158 | 0.842 | 0.000 | -0.4939 | negative | . Sentiment of Post Titles (Histogram Plot) . # posts.sentiment.value_counts().to_frame().reset_index() fig = px.histogram(posts, x=&quot;compound&quot;, color=&quot;sentiment&quot;, # color_discrete_sequence= px.colors.sequential.Blues color_discrete_sequence=[&quot;#1f77b4&quot;, &quot;#97C3E1&quot;, &quot;#559ACA&quot;]) fig.update_layout(wtbckgnd, #set background to white title={&#39;text&#39;: f&quot;Sentiment of /r/politics Posts ({today})&quot;, &#39;y&#39;:0.95,&#39;x&#39;:0.5,&#39;xanchor&#39;: &#39;center&#39;,&#39;yanchor&#39;: &#39;top&#39;}, xaxis_title=&quot;Compound Score&quot;, yaxis_title=&quot;No. of Posts&quot;,) # fig.update_traces(marker_color=mcolors) #set market colors to light blue . . . . Post Scores vs Compound Sentiment Score (Scatter Plot) . # Post Scores vs Compound Sentiment Score fig = go.Figure(data=go.Scatter(x=posts.compound, y=posts.score, mode=&#39;markers&#39;, text=posts.title)) # hover text goes here fig.update_layout(wtbckgnd, #set background to white title={&#39;text&#39;: &quot;/r/politics Posts&#39; Scores vs Comments&quot;, &#39;y&#39;:0.88,&#39;x&#39;:0.5,&#39;xanchor&#39;: &#39;center&#39;,&#39;yanchor&#39;: &#39;top&#39;}, xaxis_title=&quot;Compound Sentiment Score&quot;, yaxis_title=&quot;Scores&quot;,) fig.update_traces(marker_color=mcolors) #set market colors to light blue fig.show() . . . . Correlation of Dataframe (Heatmap) . Note *Plotly currently doesn&#39;t have simple solution for using dataframes directly with heatmaps. . # Heatmap of Dataframe mask = np.triu(np.ones_like(posts.corr(), dtype=np.bool))# adjust mask and df mask = mask[1:, :-1] corr = posts.corr().iloc[1:,:-1].copy()# plot heatmap fig, ax = plt.subplots(figsize=(11, 9)) sb.heatmap(corr, mask=mask, annot=True, fmt=&quot;.2f&quot;, cmap=&#39;Blues&#39;, vmin=-1, vmax=1, cbar_kws={&quot;shrink&quot;: .8})# yticks plt.yticks(rotation=0) plt.show() . . Conclusion . Correlation of Post Score and Number of Comments . Heatmap run through Seaborn showed there was a very positive correlation between the number of comments and the score of a posts (0.89). . . Word Frequency of Post Titles . Word frequency showed that presidents Biden and Trump were the most popular key words, followed by &#39;GOP&#39;. . . Sentiment Analysis . The Majority of posts in /r/politics were found be Neutral, followed by negative. . Resources . PRAW: The Python Reddit API Wrapper . | Ultimate Beginners Guide to Collecting Text for Natural Language Processing (NLP) with Python — Twitter, Reddit, Genius and More Collect Text through APIs and Web Scraping . | How to scrape Reddit with Python . | Try TextHero: The Absolute Simplest way to Clean and Analyze Text in Pandas . | How to Use Texthero to Prepare a Text-based Dataset for Your NLP Project . | How to Run Sentiment Analysis in Python using VADER . | How to read and write configuration (.ini) file in python . | Understanding Reddit: A beginner’s guide to the front page of the internet . | Tools Used . Pandas | Plotly | Praw (reddit api tool) 4.Texthero (NLP tool) |",
            "url": "https://drusho.github.io/api/nlp/pandas/plotly/texthero/praw/reddit/2021/07/05/reddit-politics-eda.html",
            "relUrl": "/api/nlp/pandas/plotly/texthero/praw/reddit/2021/07/05/reddit-politics-eda.html",
            "date": " • Jul 5, 2021"
        }
        
    
  

  
  

  
      ,"page1": {
          "title": "About",
          "content": "My name is David Rusho. I have a passion for using data to tell stories and discover meaningful insights. I started programming almost accidentally while looking for methods to automate repetitive tasks at work. I am an advanced spreadsheet formulas user and found that transitioning to writing code in python was a natural next step in my data science journey. . Currently, I’m based out of Orlando, FL, where I am currently enrolled in an MS Data Analytics (Big Data) program at the University of Central Florida. When I’m not programming or reading about Data Science, you can usually find me playing with photography, practicing yoga, or learning to cook Korean/Indian food. .",
          "url": "https://drusho.github.io/about/",
          "relUrl": "/about/",
          "date": ""
      }
      
  

  
      ,"page2": {
          "title": "Dashboards",
          "content": ". Tableau . . World COVID-19 Tracking Dashboard (12/2019 - 06/2020) . | US Firework Injuries (2016-2021) Dashboard | Florida Schools (2020-2021) COVID-19 Dashboard |",
          "url": "https://drusho.github.io/dashboards/",
          "relUrl": "/dashboards/",
          "date": ""
      }
      
  

  
      ,"page3": {
          "title": "Home",
          "content": "",
          "url": "https://drusho.github.io/",
          "relUrl": "/",
          "date": ""
      }
      
  

  

  
  

  

  
  

  

  
  

  
  

  
  

  
      ,"page12": {
          "title": "",
          "content": "Sitemap: {{ “sitemap.xml” | absolute_url }} | .",
          "url": "https://drusho.github.io/robots.txt",
          "relUrl": "/robots.txt",
          "date": ""
      }
      
  

}